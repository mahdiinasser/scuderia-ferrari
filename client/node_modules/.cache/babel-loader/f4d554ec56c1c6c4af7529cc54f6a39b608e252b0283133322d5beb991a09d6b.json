{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mahdy\\\\OneDrive\\\\Desktop\\\\scuderia-ferrari\\\\client\\\\src\\\\context\\\\GlobalState.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer, useState, useEffect } from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios';\n\n//initial state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst [drivers, setDrivers] = useState([]);\nconst [loading, setLoading] = useState(true);\nconst [error, setError] = useState(null);\nuseEffect(() => {\n  const fetchDrivers = async () => {\n    try {\n      const response = await axios.get('/api/v1/drivers');\n      setDrivers(response.data.data);\n      setLoading(false);\n    } catch (err) {\n      setError('Error fetching drivers');\n      setLoading(false);\n    }\n  };\n  fetchDrivers();\n}, []);\nconst driver = [{\n  id: 1,\n  name: 'CHARLES LECLERC',\n  wins: 4,\n  podiums: 20,\n  pole: 24,\n  last_w: 'MONZA 19'\n}, {\n  id: 2,\n  name: 'CARLOS SAINZ',\n  wins: 2,\n  podiums: 7,\n  pole: 3,\n  last_w: 'BAHRAIN 22'\n}];\nconst initialState = {\n  news: [{\n    id: 1,\n    title: \"IT'S HAMMER TIME!\",\n    caption: \"Lewis HAMILTION to drive for ferrari starting 2025.\"\n  }, {\n    id: 2,\n    title: \"FERRAR IN BLUE\",\n    caption: \"Scuderia Ferrari reveals new blue livery ahead of Miami GP.\"\n  }, {\n    id: 3,\n    title: \"BACK TO THE PODIUM!\",\n    caption: \"Leclerc steals the third spot in Miami.\"\n  }],\n  specs: {\n    id: 1,\n    horsepower: '747 HP',\n    engine: 'V6',\n    energy: '4 MJ',\n    displacement: '1600 cc',\n    power: '120 kW'\n  },\n  drivers: driver,\n  team: {\n    id: 1,\n    wins: driver[0].wins + driver[1].wins,\n    podiums: driver[0].podiums + driver[1].podiums,\n    pole: driver[0].pole + driver[1].pole,\n    last_w: driver[0].last_w + \", \" + driver[1].last_w\n  },\n  about: {\n    text: 'Scuderia Ferrari, currently competing as Scuderia Ferrari HP, is the racing division of luxury Italian auto manufacturer Ferrari and the racing team that competes in Formula One racing. The team is also known by the nickname ' + '\"The Prancing Horse\"' + \", in reference to their logo. It is the oldest surviving and most successful Formula One team, having competed in every world championship since 1950.\"\n  }\n};\n\n//Context\nexport const GlobalContext = /*#__PURE__*/createContext(initialState);\n\n//Provider Component\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  useEffect(() => {\n    // Fetch specs data from the database when the component mounts\n    getSpecs();\n  }, []);\n  async function updateSpecs() {\n    try {\n      const res = await axios.put('/api/v1/specs/664e74cd6f50a2a0e26fc54e');\n      return res.data.data;\n    } catch (err) {\n      console.error(err);\n      // Handle error if needed\n    }\n  }\n  ;\n  async function getSpecs() {\n    try {\n      const res = await axios.get('/api/v1/Specs');\n\n      // Extract relevant fields from the response data\n      const {\n        horsepower,\n        engine,\n        energy,\n        displacement,\n        power\n      } = res.data;\n\n      // Dispatch an action to update the specs in the global state\n      dispatch({\n        type: 'UPDATE_SPECS',\n        payload: {\n          id: res.data._id,\n          horsepower,\n          engine,\n          energy,\n          displacement,\n          power\n        }\n      });\n    } catch (err) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: err.response.data.error\n      });\n    }\n  }\n  const updateDrivers = async drivers => {\n    dispatch({\n      type: 'UPDATE_DRIVERS',\n      payload: drivers\n    });\n  };\n  const updateAbout = about => {\n    dispatch({\n      type: 'UPDATE_ABOUT',\n      payload: about\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      error: state.error,\n      loading: state.loading,\n      news: state.news,\n      specs: state.specs,\n      updateSpecs,\n      getSpecs,\n      drivers: state.drivers,\n      updateDrivers,\n      team: state.team,\n      about: state.about,\n      updateAbout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 13\n  }, this);\n};\n_s(GlobalProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = GlobalProvider;\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useState","useEffect","AppReducer","axios","jsxDEV","_jsxDEV","drivers","setDrivers","loading","setLoading","error","setError","fetchDrivers","response","get","data","err","driver","id","name","wins","podiums","pole","last_w","initialState","news","title","caption","specs","horsepower","engine","energy","displacement","power","team","about","text","GlobalContext","GlobalProvider","children","_s","state","dispatch","getSpecs","updateSpecs","res","put","console","type","payload","_id","updateDrivers","updateAbout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mahdy/OneDrive/Desktop/scuderia-ferrari/client/src/context/GlobalState.js"],"sourcesContent":["import React, { createContext, useReducer, useState, useEffect } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios'\r\n\r\n//initial state\r\n\r\nconst [drivers, setDrivers] = useState([]);\r\nconst [loading, setLoading] = useState(true);\r\nconst [error, setError] = useState(null);\r\n\r\nuseEffect(() => {\r\n    const fetchDrivers = async () => {\r\n        try {\r\n            const response = await axios.get('/api/v1/drivers');\r\n            setDrivers(response.data.data);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            setError('Error fetching drivers');\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    fetchDrivers();\r\n}, []);\r\n\r\n\r\n\r\n\r\nconst driver = [\r\n    { id: 1, name: 'CHARLES LECLERC', wins: 4, podiums: 20, pole: 24, last_w: 'MONZA 19' },\r\n    { id: 2, name: 'CARLOS SAINZ', wins: 2, podiums: 7, pole: 3, last_w: 'BAHRAIN 22' }\r\n];\r\n\r\nconst initialState = {\r\n\r\n    news: [\r\n        { id: 1, title: \"IT'S HAMMER TIME!\", caption: \"Lewis HAMILTION to drive for ferrari starting 2025.\" },\r\n        { id: 2, title: \"FERRAR IN BLUE\", caption: \"Scuderia Ferrari reveals new blue livery ahead of Miami GP.\" },\r\n        { id: 3, title: \"BACK TO THE PODIUM!\", caption: \"Leclerc steals the third spot in Miami.\" },\r\n    ],\r\n\r\n    specs: {\r\n        id: 1,\r\n        horsepower: '747 HP',\r\n        engine: 'V6',\r\n        energy: '4 MJ',\r\n        displacement: '1600 cc',\r\n        power: '120 kW'\r\n    },\r\n\r\n    drivers: driver,\r\n\r\n    team: {\r\n        id: 1,\r\n        wins: (driver[0].wins + driver[1].wins),\r\n        podiums: (driver[0].podiums + driver[1].podiums),\r\n        pole: (driver[0].pole + driver[1].pole),\r\n        last_w: driver[0].last_w + \", \" + driver[1].last_w\r\n    },\r\n\r\n    about: {\r\n        text: 'Scuderia Ferrari, currently competing as Scuderia Ferrari HP, is the racing division of luxury Italian auto manufacturer Ferrari and the racing team that competes in Formula One racing. The team is also known by the nickname ' + '\"The Prancing Horse\"' + \", in reference to their logo. It is the oldest surviving and most successful Formula One team, having competed in every world championship since 1950.\"\r\n    },\r\n\r\n\r\n\r\n}\r\n\r\n//Context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n\r\n\r\n//Provider Component\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n    useEffect(() => {\r\n        // Fetch specs data from the database when the component mounts\r\n        getSpecs();\r\n    }, []);\r\n\r\n    async function updateSpecs() {\r\n        try {\r\n            const res = await axios.put('/api/v1/specs/664e74cd6f50a2a0e26fc54e');\r\n            return res.data.data;\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n            // Handle error if needed\r\n        }\r\n    };\r\n\r\n    async function getSpecs() {\r\n        try {\r\n            const res = await axios.get('/api/v1/Specs');\r\n\r\n            // Extract relevant fields from the response data\r\n            const { horsepower, engine, energy, displacement, power } = res.data;\r\n\r\n            // Dispatch an action to update the specs in the global state\r\n            dispatch({\r\n                type: 'UPDATE_SPECS',\r\n                payload: {\r\n                    id: res.data._id,\r\n                    horsepower,\r\n                    engine,\r\n                    energy,\r\n                    displacement,\r\n                    power\r\n                }\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n    }\r\n    const updateDrivers = async (drivers) => {\r\n        dispatch({ type: 'UPDATE_DRIVERS', payload: drivers });\r\n    }\r\n\r\n    const updateAbout = (about) => {\r\n        dispatch({ type: 'UPDATE_ABOUT', payload: about });\r\n    }\r\n\r\n    return (<GlobalContext.Provider value={{\r\n        error: state.error,\r\n        loading: state.loading,\r\n        news: state.news,\r\n        specs: state.specs, updateSpecs, getSpecs,\r\n        drivers: state.drivers, updateDrivers,\r\n        team: state.team,\r\n        about: state.about, updateAbout\r\n    }}>\r\n        {children}\r\n    </GlobalContext.Provider>);\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}